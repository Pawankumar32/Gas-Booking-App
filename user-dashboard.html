<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h2>Welcome, <span id="user-name"></span></h2>
        <button onclick="logout()">Logout</button>
        <h3>Book a Cylinder</h3>
        <form id="booking-form">
            <div class="input-group">
                <label for="quantity">Cylinder Quantity</label>
                <input type="number" id="quantity" required min="1">
            </div>
            <div class="input-group">
                <label for="payment-method">Payment Method</label>
                <select id="payment-method" onchange="toggleQRCode(this.value)">
                    <option value="COD">Cash on Delivery (COD)</option>
                    <option value="Paytm">Paytm QR Code</option>
                </select>
            </div>
            <div id="qr-code-container" class="hidden">
                <p>Scan the QR code to complete payment:</p>
                <img id="qr-code" src="" alt="Paytm QR Code">
            </div>
            <button type="button" onclick="bookCylinder()">Book Now</button>
            <p id="booking-error-message"></p>
        </form>
        <h3>Booking History</h3>
        <div class="booking-history">
            <table id="booking-history-table">
                <thead>
                    <tr>
                        <th>Booking Date</th>
                        <th>Status</th>
                        <th>Payment Status</th>
                    </tr>
                </thead>
                <tbody id="booking-history-body">
                </tbody>
            </table>
            <div class="pagination" id="pagination">
                <button onclick="prevPage()">Prev</button>
                <button onclick="nextPage()">Next</button>
            </div>
        </div>
        <h3>Notifications</h3>
        <div id="notifications"></div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-messaging.js"></script>
    <script src="firebase-config.js"></script>
    <script src="user-dashboard.js"></script>
</body>
</html>